<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TANKS!AIバトル: Assets/Scripts/_TanksOriginal/TankManager.cs ソースファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen.extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TANKS!AIバトル
   </div>
   <div id="projectbrief">Unity公式チュートリアル「TANKS!」をベースにAI対戦ができるようにしたプロジェクト</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'検索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_tank_manager_8cs_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TankManager.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> System.Linq;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> UnityEngine;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="class_tank_manager.html">    7</a></span>&#160;<span class="keyword">public</span> <span class="keyword">partial class </span><a class="code" href="class_tank_manager.html">TankManager</a> : <a class="code" href="interface_i_tank_updater.html">ITankUpdater</a>, <a class="code" href="interface_i_tank_movement.html">ITankMovement</a>, <a class="code" href="interface_i_tank_turrent.html">ITankTurrent</a></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">   10</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_tank_manager.html">TankManager</a> <a class="code" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">AcceptedTank</a> { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="comment">// 戦車のGameObject</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keyword">public</span> GameObject Instance { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="comment">// 勝利回数</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">int</span> Wins { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="comment">// スコア</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">int</span> Score { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="comment">// 移動コンポーネントの参照</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="class_tank_movement.html">TankMovement</a> Movement { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="comment">// 砲塔コンポーネントの参照</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="class_tank_turrent.html">TankTurrent</a> Turrent { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// 移動コンポーネントの参照</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="interface_i_tank_movement.html">ITankMovement</a> MovementInterface { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// 砲塔コンポーネントの参照</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="interface_i_tank_turrent.html">ITankTurrent</a> TurrentInterface { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// 耐久値コンポーネントの参照</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">public</span> TankHealth Health { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// 戦車AI</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="class_tank_a_i_base.html">TankAIBase</a> TankAI { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_tank_manager.html#ab3b5a904f9e9cdf83589974a8753a9ea">   38</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="class_tank_controller.html">TankController</a> <a class="code" href="class_tank_manager.html#ab3b5a904f9e9cdf83589974a8753a9ea">Controller</a> { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">// UIコンポーネントの参照</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    UIPlayerStatus UIPlayerStatus { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// UI用GameObjectの参照</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    GameObject CanvasGameObject { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// プレイヤー番号</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">int</span> PlayerNumber { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// プレイヤー番号文字列(リッチテキストによる色付けあり)</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> ColoredPlayerText { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// 砲弾射出位置(戦車原点からの相対)</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">public</span> Vector3 FirePosition { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// ゲームマネージャー</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="class_game_manager.html">GameManager</a> <a class="code" href="class_game_manager.html">GameManager</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// エネルギー</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">float</span> energy;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">float</span> Energy</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keyword">get</span> =&gt; energy;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keyword">private</span> <span class="keyword">set</span> =&gt; energy = Mathf.Clamp(value, 0.0f, <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a637aee22f71657387c2d6e0dd301fa5f">FullEnergy</a>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// 死亡フラグ</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">bool</span> isDead;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// コンストラクタ</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">public</span> <a class="code" href="class_tank_manager.html">TankManager</a>(<a class="code" href="class_game_manager.html">GameManager</a> gameManager, <span class="keywordtype">int</span> index)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="class_game_manager.html">GameManager</a> = gameManager;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        PlayerNumber = index + 1;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        Energy = <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a637aee22f71657387c2d6e0dd301fa5f">FullEnergy</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment">// 戦車を生成</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        Spawn(gameManager.TankPrefab, gameManager.TanksRoot);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        FirePosition = Turrent.FireTransform.position;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment">// 戦車の位置を設定</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        SetPosition();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">// HUDを生成</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        UIPlayerStatus = GameObject.Instantiate&lt;UIPlayerStatus&gt;(gameManager.HudPrefab, gameManager.HudsRoot);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="comment">// AIの準備</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        SetupAI();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// 戦車を生成する</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">void</span> Spawn(GameObject tankPrefab, Transform parent)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="comment">// 戦車のGameObjectを生成し、AIコンポーネントをアタッチ</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        Instance = GameObject.Instantiate&lt;GameObject&gt;(tankPrefab, parent);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        Instance.name = $<span class="stringliteral">&quot;Tank {PlayerNumber}&quot;</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="comment">// 操作対象のコンポーネントの取得</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        Movement = Instance.GetComponentInChildren&lt;<a class="code" href="class_tank_movement.html">TankMovement</a>&gt;();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        MovementInterface = Movement as <a class="code" href="interface_i_tank_movement.html">ITankMovement</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        Turrent = Instance.GetComponentInChildren&lt;<a class="code" href="class_tank_turrent.html">TankTurrent</a>&gt;();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        TurrentInterface = Turrent as <a class="code" href="interface_i_tank_turrent.html">ITankTurrent</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        Health = Instance.GetComponentInChildren&lt;TankHealth&gt;();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        CanvasGameObject = Instance.GetComponentInChildren&lt;Canvas&gt;().gameObject;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// 位置と向きの設定</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">void</span> SetPosition()</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordtype">float</span> v = <a class="code" href="class_game_manager.html">GameManager</a>.SpawnPositionTable[PlayerNumber - 1] / (float)<a class="code" href="class_game_manager.html">GameManager</a>.<a class="code" href="class_game_manager.html#a92fdb743f35c89ede21d7bc9b0e5c427">NumberOfPlayers</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordtype">float</span> degree = 360.0f * v;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordtype">float</span> radian = 2.0f * Mathf.PI * v;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">float</span> r = <a class="code" href="class_game_manager.html">GameManager</a>.<a class="code" href="class_game_manager.html#abd24c97951e9669dfa02657f5b29b386">TankLocationRadius</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        Instance.transform.localPosition = <span class="keyword">new</span> Vector3(Mathf.Cos(radian) * r, 0.0f, Mathf.Sin(radian) * r);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        Instance.transform.localRotation = Quaternion.Euler(0.0f, 270.0f - degree, 0.0f);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// AIセットアップ</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">void</span> SetupAI()</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">// AI用サービスクラスを生成</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        Services = <span class="keyword">new</span> TankServices(<span class="keyword">this</span>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// AIを生成</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        var className = System.String.Format(<span class="stringliteral">&quot;TankAI_{0:00}&quot;</span>, PlayerNumber);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        var type = System.Type.GetType(className);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        TankAI = (<a class="code" href="class_tank_a_i_base.html">TankAIBase</a>)System.Activator.CreateInstance(type, Services);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// コントローラーとハンドラーを生成</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="class_tank_manager.html#ab3b5a904f9e9cdf83589974a8753a9ea">Controller</a> = <span class="keyword">new</span> <a class="code" href="class_tank_controller.html">TankController</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        Instance.AddComponent&lt;<a class="code" href="class_tank_handler.html">TankHandler</a>&gt;().Setup(<span class="keyword">this</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">// 名前と色を設定</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        UIPlayerStatus.Name = TankAI.<a class="code" href="class_tank_a_i_base.html#aaaf9d197697ffb110b6eb49d4e2930a5">MyName</a> ?? $<span class="stringliteral">&quot;Player {PlayerNumber}&quot;</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        SetPlayerColor(TankAI.<a class="code" href="class_tank_a_i_base.html#aadc721d60feaa228eaac852897af1393">MyColor</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// プレイヤーカラーを設定する</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> SetPlayerColor(Color color)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// プレイヤー名を示すリッチテキスト文字列の生成</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        ColoredPlayerText = $<span class="stringliteral">&quot;&lt;color=#{ColorUtility.ToHtmlStringRGB(color)}&gt;{UIPlayerStatus.Name}({PlayerNumber})&lt;/color&gt;&quot;</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="comment">// 戦車を構成する全てのレンダラーにプレイヤーのカラーを設定</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        Instance.GetComponentsInChildren&lt;MeshRenderer&gt;().ForEach(renderer =&gt; renderer.material.color = color);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="comment">// HUDの色</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        UIPlayerStatus.Color = color;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// 戦車をリセットする</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> Reset()</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        SetPosition();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        Energy = <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a637aee22f71657387c2d6e0dd301fa5f">FullEnergy</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        UIPlayerStatus.SetAlive();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        isDead = <span class="keyword">false</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        Instance.SetActive(<span class="keyword">false</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        Instance.SetActive(<span class="keyword">true</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// 戦車の制御を無効にする</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> DisableControl() =&gt; SetControl(<span class="keyword">false</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// 戦車の制御を有効にする</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> EnableControl() =&gt; SetControl(<span class="keyword">true</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">void</span> SetControl(<span class="keywordtype">bool</span> isEnabled)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        Movement.enabled = isEnabled;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        Turrent.enabled = isEnabled;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        CanvasGameObject.SetActive(isEnabled);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> SetWin()</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_game_manager.html">GameManager</a>.<a class="code" href="class_game_manager.html#ad3e717f4fb0f378b969f4457de81f23e">Instance</a>.RoundWinner == <span class="keyword">this</span>)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> RANK1_SCORE = 30;     <span class="comment">// 1位の時の点数(参加人数より大きい必要がある！)</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            ++Wins;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            Score += RANK1_SCORE;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            Debug.Assert(<a class="code" href="class_game_manager.html">GameManager</a>.<a class="code" href="class_game_manager.html#ad3e717f4fb0f378b969f4457de81f23e">Instance</a>.<a class="code" href="class_game_manager.html#a92fdb743f35c89ede21d7bc9b0e5c427">NumberOfPlayers</a> &lt; RANK1_SCORE);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            UIPlayerStatus.Ranking = $<span class="stringliteral">&quot;1位 ({Score})&quot;</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            UIPlayerStatus.SetDead();   <span class="comment">// 死ぬわけじゃないけど、ステータスバーを消すために呼ぶ</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// 毎フレームの処理</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="interface_i_tank_updater.html">ITankUpdater</a>.Process()</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">AcceptedTank</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> (Health.Health &lt;= 0.0f)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (!isDead)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="comment">// 死亡した</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                UIPlayerStatus.SetDead();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                var rank = <a class="code" href="class_game_manager.html">GameManager</a>.<a class="code" href="class_game_manager.html#ad3e717f4fb0f378b969f4457de81f23e">Instance</a>.TankControllers.Count(tank =&gt; tank.Services.Health &gt; 0.0f) + 1;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                Score += <a class="code" href="class_game_manager.html">GameManager</a>.<a class="code" href="class_game_manager.html#ad3e717f4fb0f378b969f4457de81f23e">Instance</a>.<a class="code" href="class_game_manager.html#a92fdb743f35c89ede21d7bc9b0e5c427">NumberOfPlayers</a> - rank;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                UIPlayerStatus.Ranking = $<span class="stringliteral">&quot;{rank}位 ({Score})&quot;</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                isDead = <span class="keyword">true</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            var now = Energy;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            TankAI.<a class="code" href="class_tank_a_i_base.html#a0a0002c308b6fa6b30a58f742d5be817">Process</a>(<a class="code" href="class_tank_manager.html#ab3b5a904f9e9cdf83589974a8753a9ea">Controller</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">if</span> (now == Energy)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="comment">// 何もしなかった時（エネルギー残量が変わってない時）はエネルギーが回復する</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                Energy += <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#abc9bebdc653365f15a6bdf2ce5f7a57b">RegainingEnergy</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">// HUDの更新</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        UIPlayerStatus.Energy = Energy / <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a637aee22f71657387c2d6e0dd301fa5f">FullEnergy</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        UIPlayerStatus.Health = Health.Health / <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a4e2b87b649d628dfeab36963eae2f38d">FullHealth</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">AcceptedTank</a> = <span class="keyword">null</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// 戦車の移動</span></div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="class_tank_manager.html#ad1ced34a440e101503591c29fa0e3eea">  233</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="interface_i_tank_movement.html">ITankMovement</a>.<a class="code" href="interface_i_tank_movement.html#a53a5f2930a595c92073a922c7c5d398a">Move</a>(<span class="keywordtype">bool</span> isForward, <span class="keywordtype">bool</span> isLeft, <span class="keywordtype">bool</span> isRight)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">AcceptedTank</a> != <span class="keyword">this</span>) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// コスト処理</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        var cost = isForward ? <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a23ec5126908a73c50069e2c5a3303604">MoveCost</a> : 0.0f;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        cost += isLeft ? <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a8f2dc44fb3ad075889a4e842af56cdea">TurnCost</a> : 0.0f;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        cost += isRight ? <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a8f2dc44fb3ad075889a4e842af56cdea">TurnCost</a> : 0.0f;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (cost &gt; Energy) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        Energy -= cost;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        MovementInterface.<a class="code" href="interface_i_tank_movement.html#a53a5f2930a595c92073a922c7c5d398a">Move</a>(isForward, isLeft, isRight);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// 砲塔の転回</span></div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="class_tank_manager.html#ac050ab3fef930ecece2d839d2a9e7d18">  249</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="interface_i_tank_turrent.html">ITankTurrent</a>.<a class="code" href="interface_i_tank_turrent.html#af7e481692ddf3425a6d8cf9d066c4ab4">Aim</a>(<span class="keywordtype">float</span> yaw, <span class="keywordtype">float</span> pitch)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">AcceptedTank</a> != <span class="keyword">this</span>) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// 引数の範囲内チェック(範囲外の時はペナルティ！)</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (yaw &lt; -45.0f || yaw &gt; 45.0f || pitch &lt; 0.0f || pitch &gt; 90.0f)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            Energy -= <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a344ed60144c57ca83ffce0b689683c0f">PenaltyCost</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            TurrentInterface.<a class="code" href="interface_i_tank_turrent.html#af7e481692ddf3425a6d8cf9d066c4ab4">Aim</a>(yaw, pitch);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// 砲弾を発射</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_tank_manager.html#acfe14437ceb7a3459f8fef9568e2b874">  265</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="interface_i_tank_turrent.html">ITankTurrent</a>.<a class="code" href="interface_i_tank_turrent.html#ab95943873576cba2a63826cd3d4d5080">Fire</a>(<span class="keywordtype">int</span> force)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">AcceptedTank</a> != <span class="keyword">this</span>) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">// 引数の範囲内チェック(範囲外の時はペナルティ！)</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a724b84d1046a4c03a80fd43bf102e0b3">ForceMin</a> &lt;= force &amp;&amp; force &lt;= <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a8767a4d06a2a97a92aa1b34b3cea0590">ForceMax</a>)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            var cost = force * <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a93029d43374e3a33581d7e1063f8db51">FireCost</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">if</span> (cost &gt; Energy) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            Energy -= cost;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            TurrentInterface.<a class="code" href="interface_i_tank_turrent.html#ab95943873576cba2a63826cd3d4d5080">Fire</a>(force);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            Energy -= <a class="code" href="class_const.html">Const</a>.<a class="code" href="class_const.html#a344ed60144c57ca83ffce0b689683c0f">PenaltyCost</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="ttc" id="class_game_manager_html_abd24c97951e9669dfa02657f5b29b386"><div class="ttname"><a href="class_game_manager.html#abd24c97951e9669dfa02657f5b29b386">GameManager.TankLocationRadius</a></div><div class="ttdeci">float TankLocationRadius</div><div class="ttdoc">戦車の出現位置の半径</div><div class="ttdef"><b>Definition:</b> <a href="_game_manager_8cs_source.html#l00065">GameManager.cs:65</a></div></div>
<div class="ttc" id="interface_i_tank_movement_html"><div class="ttname"><a href="interface_i_tank_movement.html">ITankMovement</a></div><div class="ttdoc">戦車の移動を制御するためのインターフェース</div><div class="ttdef"><b>Definition:</b> <a href="_i_tank_interfaces_8cs_source.html#l00004">ITankInterfaces.cs:4</a></div></div>
<div class="ttc" id="class_const_html_a637aee22f71657387c2d6e0dd301fa5f"><div class="ttname"><a href="class_const.html#a637aee22f71657387c2d6e0dd301fa5f">Const.FullEnergy</a></div><div class="ttdeci">static float FullEnergy</div><div class="ttdoc">最大エネルギー</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00017">Const.cs:17</a></div></div>
<div class="ttc" id="interface_i_tank_updater_html"><div class="ttname"><a href="interface_i_tank_updater.html">ITankUpdater</a></div><div class="ttdoc">戦車の更新処理を呼び出すためのインターフェース</div><div class="ttdef"><b>Definition:</b> <a href="_i_tank_interfaces_8cs_source.html#l00053">ITankInterfaces.cs:53</a></div></div>
<div class="ttc" id="interface_i_tank_turrent_html"><div class="ttname"><a href="interface_i_tank_turrent.html">ITankTurrent</a></div><div class="ttdoc">戦車の砲塔を制御するためのインターフェース</div><div class="ttdef"><b>Definition:</b> <a href="_i_tank_interfaces_8cs_source.html#l00020">ITankInterfaces.cs:20</a></div></div>
<div class="ttc" id="class_tank_turrent_html"><div class="ttname"><a href="class_tank_turrent.html">TankTurrent</a></div><div class="ttdoc">戦車の砲塔の制御を担っているコンポーネント</div><div class="ttdef"><b>Definition:</b> <a href="_tank_turrent_8cs_source.html#l00007">TankTurrent.cs:7</a></div></div>
<div class="ttc" id="class_game_manager_html_a92fdb743f35c89ede21d7bc9b0e5c427"><div class="ttname"><a href="class_game_manager.html#a92fdb743f35c89ede21d7bc9b0e5c427">GameManager.NumberOfPlayers</a></div><div class="ttdeci">int NumberOfPlayers</div><div class="ttdoc">プレイヤー人数</div><div class="ttdef"><b>Definition:</b> <a href="_game_manager_8cs_source.html#l00063">GameManager.cs:63</a></div></div>
<div class="ttc" id="class_tank_manager_html_ab3b5a904f9e9cdf83589974a8753a9ea"><div class="ttname"><a href="class_tank_manager.html#ab3b5a904f9e9cdf83589974a8753a9ea">TankManager.Controller</a></div><div class="ttdeci">TankController Controller</div><div class="ttdoc">戦車制御</div><div class="ttdef"><b>Definition:</b> <a href="_tank_manager_8cs_source.html#l00038">TankManager.cs:38</a></div></div>
<div class="ttc" id="class_const_html_a93029d43374e3a33581d7e1063f8db51"><div class="ttname"><a href="class_const.html#a93029d43374e3a33581d7e1063f8db51">Const.FireCost</a></div><div class="ttdeci">static float FireCost</div><div class="ttdoc">砲弾の威力 1 に対するエネルギー消費量</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00029">Const.cs:29</a></div></div>
<div class="ttc" id="interface_i_tank_movement_html_a53a5f2930a595c92073a922c7c5d398a"><div class="ttname"><a href="interface_i_tank_movement.html#a53a5f2930a595c92073a922c7c5d398a">ITankMovement.Move</a></div><div class="ttdeci">void Move(bool isForward, bool isLeft, bool isRight)</div><div class="ttdoc">戦車の移動</div></div>
<div class="ttc" id="class_const_html_a4e2b87b649d628dfeab36963eae2f38d"><div class="ttname"><a href="class_const.html#a4e2b87b649d628dfeab36963eae2f38d">Const.FullHealth</a></div><div class="ttdeci">static float FullHealth</div><div class="ttdoc">戦車の耐久値</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00041">Const.cs:41</a></div></div>
<div class="ttc" id="class_const_html_a724b84d1046a4c03a80fd43bf102e0b3"><div class="ttname"><a href="class_const.html#a724b84d1046a4c03a80fd43bf102e0b3">Const.ForceMin</a></div><div class="ttdeci">static int ForceMin</div><div class="ttdoc">砲弾の威力の最小値</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00048">Const.cs:48</a></div></div>
<div class="ttc" id="class_const_html_a23ec5126908a73c50069e2c5a3303604"><div class="ttname"><a href="class_const.html#a23ec5126908a73c50069e2c5a3303604">Const.MoveCost</a></div><div class="ttdeci">static float MoveCost</div><div class="ttdoc">移動コスト</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00023">Const.cs:23</a></div></div>
<div class="ttc" id="class_tank_a_i_base_html_aadc721d60feaa228eaac852897af1393"><div class="ttname"><a href="class_tank_a_i_base.html#aadc721d60feaa228eaac852897af1393">TankAIBase.MyColor</a></div><div class="ttdeci">virtual Color MyColor</div><div class="ttdoc">プレイヤーカラー</div><div class="ttdef"><b>Definition:</b> <a href="_tank_a_i_base_8cs_source.html#l00011">TankAIBase.cs:11</a></div></div>
<div class="ttc" id="class_tank_handler_html"><div class="ttname"><a href="class_tank_handler.html">TankHandler</a></div><div class="ttdoc">戦車ハンドラーコンポーネント</div><div class="ttdef"><b>Definition:</b> <a href="_tank_handler_8cs_source.html#l00008">TankHandler.cs:8</a></div></div>
<div class="ttc" id="interface_i_tank_turrent_html_af7e481692ddf3425a6d8cf9d066c4ab4"><div class="ttname"><a href="interface_i_tank_turrent.html#af7e481692ddf3425a6d8cf9d066c4ab4">ITankTurrent.Aim</a></div><div class="ttdeci">void Aim(float yaw, float pitch)</div><div class="ttdoc">砲塔の転回</div></div>
<div class="ttc" id="class_const_html_abc9bebdc653365f15a6bdf2ce5f7a57b"><div class="ttname"><a href="class_const.html#abc9bebdc653365f15a6bdf2ce5f7a57b">Const.RegainingEnergy</a></div><div class="ttdeci">static float RegainingEnergy</div><div class="ttdoc">何もしてない時のエネルギー回復量</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00020">Const.cs:20</a></div></div>
<div class="ttc" id="class_tank_controller_html"><div class="ttname"><a href="class_tank_controller.html">TankController</a></div><div class="ttdoc">戦車制御クラス</div><div class="ttdef"><b>Definition:</b> <a href="_tank_controller_8cs_source.html#l00009">TankController.cs:9</a></div></div>
<div class="ttc" id="class_const_html_a8767a4d06a2a97a92aa1b34b3cea0590"><div class="ttname"><a href="class_const.html#a8767a4d06a2a97a92aa1b34b3cea0590">Const.ForceMax</a></div><div class="ttdeci">static int ForceMax</div><div class="ttdoc">砲弾の威力の最大値</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00050">Const.cs:50</a></div></div>
<div class="ttc" id="class_game_manager_html"><div class="ttname"><a href="class_game_manager.html">GameManager</a></div><div class="ttdoc">ゲームマネージャー</div><div class="ttdef"><b>Definition:</b> <a href="_game_manager_8cs_source.html#l00010">GameManager.cs:10</a></div></div>
<div class="ttc" id="class_const_html_a8f2dc44fb3ad075889a4e842af56cdea"><div class="ttname"><a href="class_const.html#a8f2dc44fb3ad075889a4e842af56cdea">Const.TurnCost</a></div><div class="ttdeci">static float TurnCost</div><div class="ttdoc">転回コスト</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00025">Const.cs:25</a></div></div>
<div class="ttc" id="class_tank_manager_html_a21c59e07942fa895daa9126b082dd38d"><div class="ttname"><a href="class_tank_manager.html#a21c59e07942fa895daa9126b082dd38d">TankManager.AcceptedTank</a></div><div class="ttdeci">static TankManager AcceptedTank</div><div class="ttdoc">操作が許可されている戦車</div><div class="ttdef"><b>Definition:</b> <a href="_tank_manager_8cs_source.html#l00010">TankManager.cs:10</a></div></div>
<div class="ttc" id="class_const_html"><div class="ttname"><a href="class_const.html">Const</a></div><div class="ttdoc">定数定義クラス</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00004">Const.cs:4</a></div></div>
<div class="ttc" id="class_tank_movement_html"><div class="ttname"><a href="class_tank_movement.html">TankMovement</a></div><div class="ttdoc">戦車の移動処理を担っているコンポーネント</div><div class="ttdef"><b>Definition:</b> <a href="_tank_movement_8cs_source.html#l00007">TankMovement.cs:7</a></div></div>
<div class="ttc" id="class_game_manager_html_ad3e717f4fb0f378b969f4457de81f23e"><div class="ttname"><a href="class_game_manager.html#ad3e717f4fb0f378b969f4457de81f23e">GameManager.Instance</a></div><div class="ttdeci">static GameManager Instance</div><div class="ttdoc">インスタンス</div><div class="ttdef"><b>Definition:</b> <a href="_game_manager_8cs_source.html#l00018">GameManager.cs:18</a></div></div>
<div class="ttc" id="class_tank_a_i_base_html_a0a0002c308b6fa6b30a58f742d5be817"><div class="ttname"><a href="class_tank_a_i_base.html#a0a0002c308b6fa6b30a58f742d5be817">TankAIBase.Process</a></div><div class="ttdeci">virtual void Process(TankController controller)</div><div class="ttdoc">AIのメイン処理</div><div class="ttdef"><b>Definition:</b> <a href="_tank_a_i_base_8cs_source.html#l00028">TankAIBase.cs:28</a></div></div>
<div class="ttc" id="class_tank_a_i_base_html_aaaf9d197697ffb110b6eb49d4e2930a5"><div class="ttname"><a href="class_tank_a_i_base.html#aaaf9d197697ffb110b6eb49d4e2930a5">TankAIBase.MyName</a></div><div class="ttdeci">virtual string MyName</div><div class="ttdoc">プレイヤー名</div><div class="ttdef"><b>Definition:</b> <a href="_tank_a_i_base_8cs_source.html#l00009">TankAIBase.cs:9</a></div></div>
<div class="ttc" id="class_const_html_a344ed60144c57ca83ffce0b689683c0f"><div class="ttname"><a href="class_const.html#a344ed60144c57ca83ffce0b689683c0f">Const.PenaltyCost</a></div><div class="ttdeci">static float PenaltyCost</div><div class="ttdoc">指定ミスによるエネルギー消費量ペナルティ</div><div class="ttdef"><b>Definition:</b> <a href="_const_8cs_source.html#l00032">Const.cs:32</a></div></div>
<div class="ttc" id="interface_i_tank_turrent_html_ab95943873576cba2a63826cd3d4d5080"><div class="ttname"><a href="interface_i_tank_turrent.html#ab95943873576cba2a63826cd3d4d5080">ITankTurrent.Fire</a></div><div class="ttdeci">void Fire(int force)</div><div class="ttdoc">砲弾を発射</div></div>
<div class="ttc" id="class_tank_a_i_base_html"><div class="ttname"><a href="class_tank_a_i_base.html">TankAIBase</a></div><div class="ttdoc">戦車のAIのベースクラス</div><div class="ttdef"><b>Definition:</b> <a href="_tank_a_i_base_8cs_source.html#l00006">TankAIBase.cs:6</a></div></div>
<div class="ttc" id="class_tank_manager_html"><div class="ttname"><a href="class_tank_manager.html">TankManager</a></div><div class="ttdoc">戦車マネージャークラス</div><div class="ttdef"><b>Definition:</b> <a href="_tank_manager_8cs_source.html#l00007">TankManager.cs:7</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_84bbf7b3c7f28a5a18725745e1505219.html">Assets</a></li><li class="navelem"><a class="el" href="dir_f13b41af88cf68434578284aaf699e39.html">Scripts</a></li><li class="navelem"><a class="el" href="dir_8b6c4febc110973f9542a5d054242e20.html">_TanksOriginal</a></li><li class="navelem"><b>TankManager.cs</b></li>
    <li class="footer">構築:
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
